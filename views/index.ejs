<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel="stylesheet" href="/stylesheets/style.css" />
  </head>
  <body>
    <h1><%= title %></h1>
    <h2>A basic interactive app that displays messages from users</h2>

    <% messages.forEach(function(message) { 
      const date = new Date(message.added); 
      const isValidDate = !isNaN(date.getTime()); 
    %>
    
    <p>
      <strong><%= message.user %>:</strong> <%= message.text %>
      <em>(<%= isValidDate ? date.toUTCString() : message.added %>)</em>
    </p>
    
    <% }) %>

    <a href="/new">Add a new message</a>
  </body>
</html>
